<!DOCTYPE html>

<html lang="zh-CN">
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>微型应用基准程序 &mdash; Phalcon 0.5.0 文档</title>
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../static/configurationblock.css" type="text/css" />
    <!--
    <link rel="stylesheet" href="../../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../static/layout.css" type="text/css" />
    -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Rosario" type="text/css">
    <!-- link rel="stylesheet" href="http://phalconphp.com/css/s.css" type="text/css" -->
    <link rel="stylesheet" href="../../static/s.css" type="text/css">
    <link rel="stylesheet" href="../../static/docs.css" type="text/css">
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.5.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/docs.js"></script>
    <link rel="shortcut icon" href="../../static/favicon.ico"/>
    <link rel="top" title="Phalcon 0.5.0 文档" href="../../index.html" />
    <link rel="up" title="框架基准程序" href="../benchmark.html" />
    <link rel="next" title="安装" href="../install.html" />
    <link rel="prev" title="“你好，世界”基准程序" href="hello-world.html" /> 
  </head>
  <body>
    <div id="wrapper">
      <div id="header">
        <h1><a href="http://phalconphp.org/index" ><img border="0" src="../../static/img/logo-small.png"></a></h1>
        <div align="center">
          <div id="nav-main" role="navigation">
            <div class="menubar">
              <div class="nav-main-features nav-first"><a href="http://bullsoft.org/phalcon-docs/">首页</a></div>
              <div class="nav-main-features nav-first"><a href="http://phalconphp.com/download" target="_blank">下载</a></div>
              <div class="nav-main-features"><a href="http://forum.phalconphp.com/">讨论</a></div>
              <div class="nav-main-features"><a target="blog" href="http://blog.phalconphp.com/">博客</a></div>
              <div class="nav-main-features nav-first"><a href="https://github.com/phalcon/cphalcon">GitHub</a></div>	      
            </div>
          </div>
        </div>
      </div>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../install.html" title="安装"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="hello-world.html" title="“你好，世界”基准程序"
             accesskey="P">上一页</a> |</li>
        <li><a href="http://phalconphp.org/index">首页</a> &raquo;</li>
        <li><a href="../../index.html">Phalcon 0.5.0 文档</a> &raquo;</li>
          <li><a href="../benchmark.html" accesskey="U">框架基准程序</a> &raquo;</li> 
      </ul>
    </div>  

      <table width="90%" align="center">
        <tr>
      <td class="primary-box" width="25%" valign="top">
            
            <div id="searchbox" style="">
              <h3>搜索</h3>
                <form class="search" action="http://readthedocs.org/search/project/" method="get">
                  <input type="text" name="q" size="18">
                  <input type="submit" value="Go">
                  <input type="hidden" name="selected_facets" value="project:">
                </form>
            </div>
            <h3><a href="../../index.html">內容目录</a></h3>
            <ul>
<li><a class="reference internal" href="#">微型应用基准程序</a><ul>
<li><a class="reference internal" href="#id2">基准程序是如何执行的？</a></li>
<li><a class="reference internal" href="#id3">测试结果如何？</a></li>
<li><a class="reference internal" href="#id4">参与测试的框架</a></li>
<li><a class="reference internal" href="#id5">结果</a><ul>
<li><a class="reference internal" href="#slim-framework">Slim Framework</a></li>
<li><a class="reference internal" href="#silex">Silex</a></li>
<li><a class="reference internal" href="#phalcon-0-5-0">Phalcon 0.5.0</a></li>
<li><a class="reference internal" href="#id6">图表</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">结论</a></li>
</ul>
</li>
</ul>

            <h4>上一个主题</h4>
            <p class="topless"><a href="hello-world.html"
                                  title="上一章">“你好，世界”基准程序</a></p>
            <h4>下一个主题</h4>
            <p class="topless"><a href="../install.html"
                                  title="下一章">安装</a></p>
            <h3>本页</h3>
            <ul class="this-page-menu">
              <li><a href="../../sources/reference/benchmark/micro.txt"
                     rel="nofollow">显示源代码</a></li>
            </ul>
        </td>
          <td class="second-box" valign="top">
            <div class="document">
                <div class="documentwrapper">
                  <div class="bodywrapper">
                <div class="body" >
                      
  <div class="section" id="id1">
<h1>微型应用基准程序<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="id2">
<h2>基准程序是如何执行的？<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>我们创建了一个“你好，世界”的基准程序，来测试各框架的最小开销。类似于框架基准程序。</p>
<p>We created a &#8220;Hello World&#8221; benchmark seeking to identify the smallest load overhead of each framework. Similar to the benchmark made with Frameworks.</p>
<p>准备一个路由接收HTTP的&#8221;GET&#8221;请求，我们会在请求中传入一个参数，要求框架处理后返回&#8221;Hello $name&#8221;。</p>
<p>Using a route for the HTTP method &#8216;GET&#8217; we pass a parameter to a handler returning a &#8220;Hello $name&#8221; response.</p>
</div>
<div class="section" id="id3">
<h2>测试结果如何？<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>下面是我们考量的方法，以确保能体现每个框架的整体性能：</p>
<p>These were the measurements we record to identify the overall performance of each framework:</p>
<ul class="simple">
<li>每秒请求数</li>
<li>所有并发请求的时间</li>
<li>单请求包含的PHP文你看数目（使用 <a class="reference external" href="http://www.php.net/manual/en/function.get-included-files.php">get_included_files</a> 函数测量）。</li>
<li>每次请求的内存使用（使用 <a class="reference external" href="http://php.net/manual/en/function.memory-get-usage.php">memory_get_usage</a> 函数测量）。</li>
<li>Requests per second</li>
<li>Time across all concurrent requests</li>
<li>Number of included PHP files on a single request (measured using function <a class="reference external" href="http://www.php.net/manual/en/function.get-included-files.php">get_included_files</a>.</li>
<li>Memory Usage per request (measured using function <a class="reference external" href="http://php.net/manual/en/function.memory-get-usage.php">memory_get_usage</a>.</li>
</ul>
</div>
<div class="section" id="id4">
<h2>参与测试的框架<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Slim</li>
<li>Silex</li>
</ul>
</div>
<div class="section" id="id5">
<h2>结果<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<div class="section" id="slim-framework">
<h3>Slim Framework<a class="headerlink" href="#slim-framework" title="永久链接至标题">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="x"># ab -n 1000 -c 5 http://localhost/bench/micro/slim/say/hello/Sonny</span>
<span class="x">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;</span>
<span class="x">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</span>
<span class="x">Licensed to The Apache Software Foundation, http://www.apache.org/</span>

<span class="x">Benchmarking localhost (be patient)</span>


<span class="x">Server Software:        Apache/2.2.22</span>
<span class="x">Server Hostname:        localhost</span>
<span class="x">Server Port:            80</span>

<span class="x">Document Path:          /bench/micro/slim/say/hello/Sonny</span>
<span class="x">Document Length:        13 bytes</span>

<span class="x">Concurrency Level:      5</span>
<span class="x">Time taken for tests:   0.882 seconds</span>
<span class="x">Complete requests:      1000</span>
<span class="x">Failed requests:        0</span>
<span class="x">Write errors:           0</span>
<span class="x">Total transferred:      206000 bytes</span>
<span class="x">HTML transferred:       13000 bytes</span>
<span class="x">Requests per second:    1134.21 [#/sec] (mean)</span>
<span class="x">Time per request:       4.408 [ms] (mean)</span>
<span class="x">Time per request:       0.882 [ms] (mean, across all concurrent requests)</span>
<span class="x">Transfer rate:          228.17 [Kbytes/sec] received</span>

<span class="x">Connection Times (ms)</span>
<span class="x">              min  mean[+/-sd] median   max</span>
<span class="x">Connect:        0    4   2.4      4      33</span>
<span class="x">Processing:     0    0   0.5      0      11</span>
<span class="x">Waiting:        0    0   0.5      0      11</span>
<span class="x">Total:          2    4   2.4      4      33</span>

<span class="x">Percentage of the requests served within a certain time (ms)</span>
<span class="x">  50%      4</span>
<span class="x">  66%      4</span>
<span class="x">  75%      5</span>
<span class="x">  80%      5</span>
<span class="x">  90%      6</span>
<span class="x">  95%      8</span>
<span class="x">  98%     12</span>
<span class="x">  99%     14</span>
<span class="x"> 100%     33 (longest request)</span>
</pre></div>
</div>
</div>
<div class="section" id="silex">
<h3>Silex<a class="headerlink" href="#silex" title="永久链接至标题">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="x"># ab -n 1000 -c 5 http://localhost/bench/micro/silex/say/hello/Sonny</span>
<span class="x">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;</span>
<span class="x">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</span>
<span class="x">Licensed to The Apache Software Foundation, http://www.apache.org/</span>

<span class="x">Benchmarking localhost (be patient)</span>


<span class="x">Server Software:        Apache/2.2.22</span>
<span class="x">Server Hostname:        localhost</span>
<span class="x">Server Port:            80</span>

<span class="x">Document Path:          /bench/micro/silex/say/hello/Sonny</span>
<span class="x">Document Length:        12 bytes</span>

<span class="x">Concurrency Level:      5</span>
<span class="x">Time taken for tests:   2.228 seconds</span>
<span class="x">Complete requests:      1000</span>
<span class="x">Failed requests:        0</span>
<span class="x">Write errors:           0</span>
<span class="x">Total transferred:      225000 bytes</span>
<span class="x">HTML transferred:       12000 bytes</span>
<span class="x">Requests per second:    448.75 [#/sec] (mean)</span>
<span class="x">Time per request:       11.142 [ms] (mean)</span>
<span class="x">Time per request:       2.228 [ms] (mean, across all concurrent requests)</span>
<span class="x">Transfer rate:          98.60 [Kbytes/sec] received</span>

<span class="x">Connection Times (ms)</span>
<span class="x">              min  mean[+/-sd] median   max</span>
<span class="x">Connect:        0   11   5.1     10      44</span>
<span class="x">Processing:     0    0   1.1      0      26</span>
<span class="x">Waiting:        0    0   1.1      0      26</span>
<span class="x">Total:          5   11   5.1     10      45</span>

<span class="x">Percentage of the requests served within a certain time (ms)</span>
<span class="x">  50%     10</span>
<span class="x">  66%     12</span>
<span class="x">  75%     13</span>
<span class="x">  80%     14</span>
<span class="x">  90%     17</span>
<span class="x">  95%     20</span>
<span class="x">  98%     25</span>
<span class="x">  99%     29</span>
<span class="x"> 100%     45 (longest request)</span>
</pre></div>
</div>
</div>
<div class="section" id="phalcon-0-5-0">
<h3>Phalcon 0.5.0<a class="headerlink" href="#phalcon-0-5-0" title="永久链接至标题">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="x"># ab -n 1000 -c 5 http://localhost/bench/micro/phalcon/say/hello/Sonny</span>
<span class="x">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;</span>
<span class="x">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</span>
<span class="x">Licensed to The Apache Software Foundation, http://www.apache.org/</span>

<span class="x">Benchmarking localhost (be patient)</span>


<span class="x">Server Software:        Apache/2.2.22</span>
<span class="x">Server Hostname:        localhost</span>
<span class="x">Server Port:            80</span>

<span class="x">Document Path:          /bench/micro/phalcon/say/hello/Sonny</span>
<span class="x">Document Length:        12 bytes</span>

<span class="x">Concurrency Level:      5</span>
<span class="x">Time taken for tests:   0.397 seconds</span>
<span class="x">Complete requests:      1000</span>
<span class="x">Failed requests:        0</span>
<span class="x">Write errors:           0</span>
<span class="x">Total transferred:      205000 bytes</span>
<span class="x">HTML transferred:       12000 bytes</span>
<span class="x">Requests per second:    2516.74 [#/sec] (mean)</span>
<span class="x">Time per request:       1.987 [ms] (mean)</span>
<span class="x">Time per request:       0.397 [ms] (mean, across all concurrent requests)</span>
<span class="x">Transfer rate:          503.84 [Kbytes/sec] received</span>

<span class="x">Connection Times (ms)</span>
<span class="x">              min  mean[+/-sd] median   max</span>
<span class="x">Connect:        0    2   0.9      2      11</span>
<span class="x">Processing:     0    0   0.2      0       5</span>
<span class="x">Waiting:        0    0   0.2      0       4</span>
<span class="x">Total:          1    2   0.9      2      11</span>

<span class="x">Percentage of the requests served within a certain time (ms)</span>
<span class="x">  50%      2</span>
<span class="x">  66%      2</span>
<span class="x">  75%      2</span>
<span class="x">  80%      2</span>
<span class="x">  90%      3</span>
<span class="x">  95%      4</span>
<span class="x">  98%      5</span>
<span class="x">  99%      5</span>
<span class="x"> 100%     11 (longest request)</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>图表<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<p>第一张图表显示每个框架每秒处理的请求数。每二张图显示处理所有并发请求的平均时间。</p>
<p>The first graph shows how many requests per second each framework was able to accept. The second shows the average time across all concurrent requests.</p>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
        google.load("visualization", "1", {packages:["corechart"]});
        google.setOnLoadCallback(drawChart);

        function drawChart() {

                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Framework');
                data.addColumn('number', 'Requests per second');
                data.addRows([
                        ['Silex',    448.75],
                        ['Slim',    1134.21],
                        ['Phalcon', 2516.74]
                ]);

                var options = {
                        title: 'Framework / Requests per second (#/sec) [more is better]',
                        colors: ['#3366CC'],
                        animation: {
                                duration: 0.5
                        },
                        fontSize: 12,
                        chartArea: {
                                width: '600px'
                        }
                };

                var chart = new google.visualization.ColumnChart(document.getElementById('rps_div'));
                chart.draw(data, options);

                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Framework');
                data.addColumn('number', 'Time per Request');
                data.addRows([
                        ['Silex',   2.228],
                        ['Slim',    0.882],
                        ['Phalcon', 0.397]
                ]);

                var options = {
                        title: 'Framework / Time per Request (mean, across all concurrent requests) [less is better]',
                        colors: ['#3366CC'],
                        fontSize: 11
                };

                var chart = new google.visualization.ColumnChart(document.getElementById('tpr_div'));
                chart.draw(data, options);

                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Framework');
                data.addColumn('number', 'Memory Usage (MB)');
                data.addRows([
                        ['Silex',   1.25],
                        ['Slim',    1.25],
                        ['Phalcon', 0.75]
                ]);

                var options = {
                        title: 'Framework / Memory Usage (mean, megabytes per request) [less is better]',
                        colors: ['#3366CC'],
                        fontSize: 11
                };

                var chart = new google.visualization.ColumnChart(document.getElementById('mpr_div'));
                chart.draw(data, options);

                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Framework');
                data.addColumn('number', 'Number of included PHP files');
                data.addRows([
        ['Silex',    54],
                        ['Slim',     17],
                        ['Phalcon',   2]
                ]);

                var options = {
                        title: 'Framework / Number of included PHP files (mean, number on a single request) [less is better]',
                        colors: ['#3366CC'],
                        fontSize: 11
                };

                var chart = new google.visualization.ColumnChart(document.getElementById('nfi_div'));
                chart.draw(data, options);

        }
</script>
<div align="center">
        <div id="rps_div" style="width: 600px; height: 400px; position: relative; "><iframe name="Drawing_Frame_31166" id="Drawing_Frame_31166" width="600" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><div></div></div>
        <div id="tpr_div" style="width: 600px; height: 400px; position: relative; "><iframe name="Drawing_Frame_89467" id="Drawing_Frame_89467" width="600" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><div></div></div>
        <div id="nfi_div" style="width: 600px; height: 400px; position: relative; "><iframe name="Drawing_Frame_49746" id="Drawing_Frame_49746" width="600" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><div></div></div>
        <div id="mpr_div" style="width: 600px; height: 400px; position: relative; "><iframe name="Drawing_Frame_77939" id="Drawing_Frame_77939" width="600" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><div></div></div>
</div></div>
</div>
<div class="section" id="id7">
<h2>结论<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>Phalcon是编译好的C-扩展，因为这个特性，在这些基准测试中，它的性能表现远优于其他框架。</p>
<p>The compiled nature of Phalcon offers extraordinary performance that outperforms all other frameworks measured in these benchmarks.</p>
</div>
</div>


                    </div>
                  </div>
                </div>
            </div>
          </td>
        </tr>
      </table>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../install.html" title="安装"
             >下一页</a> |</li>
        <li class="right" >
          <a href="hello-world.html" title="“你好，世界”基准程序"
             >上一页</a> |</li>
          <li><a href="../benchmark.html" >框架基准程序</a> &raquo;</li> 
      </ul>
    </div>
        <div id="disqus_thread" style="margin:30px auto 0 auto; width:80%;"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'phalcon'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <div id="footer">
             &copy; 版权所有 2012, Phalcon Team.
             最后更新日期是 Jul 09, 2013.
            使用 <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b1.
        </div>

    </div>
  </body>
</html>